INFO:__main__:ğŸ” Enhanced detailed logging enabled - output: /mnt/c/Users/chris/Cloud-Drive_christianhaddad8@Gmail.com/Cloud-Drive/Full/claude code/Amazon-FBA-Agent-System-v3/logs/debug/run_complete_fba_system_20250708_184910.log
DEBUG:asyncio:Using selector: EpollSelector
INFO:__main__:ğŸš€ Complete FBA System v3 initialized
INFO:__main__:ğŸ­ Processing supplier: poundwholesale-co-uk
INFO:__main__:ğŸ”— URL: https://www.poundwholesale.co.uk/
INFO:__main__:ğŸ“§ Email: info@theblacksmithmarket.com
INFO:__main__:ğŸ–¥ï¸ Headed mode: False
INFO:__main__:ğŸ“¦ Max products: 3
INFO:__main__:ğŸ”„ Force regenerate: True
INFO:__main__:ğŸ“¦ Archiving expected output files for verification...
INFO:__main__:Archive mode set to: ''
WARNING:__main__:Unknown archive mode: ''. Skipping archive.
INFO:tools.supplier_guard:ğŸ›¡ï¸ Supplier Guard initialized
INFO:tools.supplier_guard:ğŸ“¦ Archived supplier poundwholesale-co-uk to suppliers/poundwholesale-co-uk.bak_20250708144910UTC
INFO:__main__:ğŸ“¦ Archived existing data to: suppliers/poundwholesale-co-uk.bak_20250708144910UTC
INFO:__main__:ğŸ” Force regenerate requested: poundwholesale-co-uk. Generating automation package...
INFO:tools.supplier_guard:ğŸ›¡ï¸ Supplier Guard initialized
INFO:tools.supplier_script_generator:ğŸ§  Intelligent Supplier Script Generator initialized for: https://www.poundwholesale.co.uk/
INFO:tools.supplier_script_generator:ğŸ“ Supplier directory: suppliers/poundwholesale-co-uk
INFO:tools.supplier_script_generator:ğŸš€ Starting intelligent supplier script generation...
INFO:tools.supplier_script_generator:ğŸŒ Initializing browser connection...
INFO:tools.supplier_script_generator:âœ… Connected to existing Chrome debug instance
INFO:tools.supplier_script_generator:âœ… Using active user page: https://www.poundwholesale.co.uk/...
INFO:tools.supplier_script_generator:âœ… Already on target domain www.poundwholesale.co.uk, preserving current page state
INFO:tools.supplier_script_generator:ğŸ“„ Navigated to: https://www.poundwholesale.co.uk/
INFO:tools.supplier_script_generator:ğŸ§  Starting AI-powered element discovery...
INFO:tools.vision_discovery_engine:ğŸ” Enhanced Vision Discovery Engine initialized with multimodal AI capabilities
INFO:tools.supplier_script_generator:ğŸ” Discovering login elements...
INFO:tools.vision_discovery_engine:ğŸ” Starting enhanced multimodal login discovery...
INFO:tools.vision_discovery_engine:ğŸ“„ Extracting page HTML content...
DEBUG:tools.vision_discovery_engine:ğŸ§¹ Aggressively pruning HTML content for AI analysis...
WARNING:tools.vision_discovery_engine:HTML content for AI analysis was truncated to 15000 characters. The original size was 150894. AI context may be incomplete.
DEBUG:tools.vision_discovery_engine:âœ… HTML aggressively pruned to 15000 characters
INFO:tools.vision_discovery_engine:ğŸ“Š HTML content processed: 15000 characters after pruning
INFO:tools.vision_discovery_engine:ğŸ“¸ Capturing page screenshot...
INFO:tools.vision_discovery_engine:ğŸ§  Performing multimodal AI analysis for login elements...
DEBUG:tools.vision_discovery_engine:ğŸ§  Sending multimodal request to AI model...
DEBUG:httpcore.connection:connect_tcp.started host='api.openai.com' port=443 local_address=None timeout=5.0 socket_options=None
DEBUG:httpcore.connection:connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x7f4ea963f800>
DEBUG:httpcore.connection:start_tls.started ssl_context=<ssl.SSLContext object at 0x7f4ea9a510d0> server_hostname='api.openai.com' timeout=5.0
DEBUG:httpcore.connection:start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x7f4ea90520f0>
DEBUG:httpcore.http11:send_request_headers.started request=<Request [b'POST']>
DEBUG:httpcore.http11:send_request_headers.complete
DEBUG:httpcore.http11:send_request_body.started request=<Request [b'POST']>
DEBUG:httpcore.http11:send_request_body.complete
DEBUG:httpcore.http11:receive_response_headers.started request=<Request [b'POST']>
DEBUG:httpcore.http11:receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Tue, 08 Jul 2025 14:49:18 GMT'), (b'Content-Type', b'application/json'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'access-control-expose-headers', b'X-Request-ID'), (b'openai-organization', b'user-eywvpvgw4dvq99ktk9fwsqol'), (b'openai-processing-ms', b'1052'), (b'openai-version', b'2020-10-01'), (b'x-envoy-upstream-service-time', b'936'), (b'x-ratelimit-limit-input-images', b'50000'), (b'x-ratelimit-limit-requests', b'500'), (b'x-ratelimit-limit-tokens', b'200000'), (b'x-ratelimit-remaining-input-images', b'49999'), (b'x-ratelimit-remaining-requests', b'499'), (b'x-ratelimit-remaining-tokens', b'195200'), (b'x-ratelimit-reset-input-images', b'1ms'), (b'x-ratelimit-reset-requests', b'120ms'), (b'x-ratelimit-reset-tokens', b'1.44s'), (b'x-request-id', b'req_8b331f4b78a0e92b755b338239376ab3'), (b'strict-transport-security', b'max-age=31536000; includeSubDomains; preload'), (b'cf-cache-status', b'DYNAMIC'), (b'Set-Cookie', b'__cf_bm=qQck7yfU0SA.4LEu_lupMH7UscaqYxzPLCoHCCYYdUk-1751986158-1.0.1.1-mnM4jConJW1M4iqG9yoC1I22vQQPg498EzEMG4QLXPt9sFlsRE8hFYeGig91UAbq5MLs42kPMV2A_X47.FAnZIK32eO8FMaZkWE9a6HkTPY; path=/; expires=Tue, 08-Jul-25 15:19:18 GMT; domain=.api.openai.com; HttpOnly; Secure; SameSite=None'), (b'X-Content-Type-Options', b'nosniff'), (b'Set-Cookie', b'_cfuvid=LcGz9uKNCEUYFmEj796_D1FsoTZeLIr5oVNTsI57YIo-1751986158841-0.0.1.1-604800000; path=/; domain=.api.openai.com; HttpOnly; Secure; SameSite=None'), (b'Server', b'cloudflare'), (b'CF-RAY', b'95c0631bfe6b6122-DXB'), (b'Content-Encoding', b'br'), (b'alt-svc', b'h3=":443"; ma=86400')])
INFO:httpx:HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
DEBUG:httpcore.http11:receive_response_body.started request=<Request [b'POST']>
DEBUG:httpcore.http11:receive_response_body.complete
DEBUG:httpcore.http11:response_closed.started
DEBUG:httpcore.http11:response_closed.complete
DEBUG:tools.vision_discovery_engine:ğŸ¯ AI response received: {
  "email_selector": "#email",
  "password_selector": "input[name='login[password]']",
  "submit_se...
INFO:tools.vision_discovery_engine:âœ… Login selectors extracted: {'email_selector': '#email', 'password_selector': "input[name='login[password]']", 'submit_selector': 'button#send2'}
INFO:tools.vision_discovery_engine:âœ… Login elements discovered successfully via multimodal analysis
INFO:tools.vision_discovery_engine:ğŸ” Validating discovered selectors...
INFO:tools.vision_discovery_engine:ğŸ” Validating login selectors...
WARNING:tools.vision_discovery_engine:âš ï¸ Discovered selectors failed validation
INFO:tools.vision_discovery_engine:ğŸ”„ Falling back to heuristic discovery...
INFO:tools.vision_discovery_engine:ğŸ”„ Running heuristic login discovery...
INFO:tools.supplier_script_generator:ğŸ›ï¸ Discovering product and pagination selectors...
INFO:tools.vision_discovery_engine:ğŸ•·ï¸ Starting vision-based product and pagination selector discovery...
INFO:tools.vision_discovery_engine:ğŸ“„ Extracting page HTML content...
DEBUG:tools.vision_discovery_engine:ğŸ§¹ Aggressively pruning HTML content for AI analysis...
WARNING:tools.vision_discovery_engine:HTML content for AI analysis was truncated to 15000 characters. The original size was 151081. AI context may be incomplete.
DEBUG:tools.vision_discovery_engine:âœ… HTML aggressively pruned to 15000 characters
INFO:tools.vision_discovery_engine:ğŸ“Š HTML content processed: 15000 characters after pruning
INFO:tools.vision_discovery_engine:ğŸ“¸ Capturing page screenshot...
INFO:tools.vision_discovery_engine:ğŸ§  Performing multimodal AI analysis for product and pagination elements...
DEBUG:httpcore.http11:send_request_headers.started request=<Request [b'POST']>
DEBUG:httpcore.http11:send_request_headers.complete
DEBUG:httpcore.http11:send_request_body.started request=<Request [b'POST']>
DEBUG:httpcore.http11:send_request_body.complete
DEBUG:httpcore.http11:receive_response_headers.started request=<Request [b'POST']>
