INFO:__main__:🔍 Enhanced detailed logging enabled - output: /mnt/c/Users/chris/Cloud-Drive_christianhaddad8@gmail.com/Cloud-Drive/Full/claude code/Amazon-FBA-Agent-System-v3/logs/debug/run_complete_fba_system_20250708_191857.log
DEBUG:asyncio:Using selector: EpollSelector
WARNING:__main__:Failed to load max_products from config: Expecting value: line 1 column 1 (char 0), using default 0
WARNING:__main__:Failed to load system config: Expecting value: line 1 column 1 (char 0), using defaults
INFO:__main__:🚀 Complete FBA System v3 initialized
INFO:__main__:🏭 Processing supplier: poundwholesale-co-uk
INFO:__main__:🔗 URL: https://www.poundwholesale.co.uk/
INFO:__main__:📧 Email: info@theblacksmithmarket.com
INFO:__main__:🖥️ Headed mode: False
INFO:__main__:📦 Max products: 0
INFO:__main__:🔄 Force regenerate: False
INFO:__main__:📦 Archive system disabled - skipping file archiving
INFO:tools.supplier_guard:🛡️ Supplier Guard initialized
INFO:__main__:⚠️ Supplier poundwholesale-co-uk not ready: .supplier_ready file missing supplier_name field
INFO:__main__:✅ Existing supplier package found for poundwholesale-co-uk. Bypassing script generation.
INFO:__main__:🚀 Initializing centralized browser session...
INFO:utils.browser_manager:🔧 BrowserManager singleton initialized
INFO:utils.browser_manager:🔌 Connecting to Chrome on debug port 9222
INFO:utils.browser_manager:📄 Using existing context with 4 pages
INFO:utils.browser_manager:✅ Connected to Chrome successfully
INFO:utils.browser_manager:📄 Created new page #1 for https://www.poundwholesale.co.uk
INFO:utils.browser_manager:✅ Page ready for https://www.poundwholesale.co.uk/
INFO:__main__:🔐 Performing dynamic supplier authentication...
INFO:__main__:📦 Loading dynamic supplier login script: suppliers/poundwholesale-co-uk/scripts/poundwholesale-co-uk_login.py
INFO:poundwholesale-co-uk_login:🔐 Starting login to https://www.poundwholesale.co.uk/
INFO:poundwholesale-co-uk_login:✅ Already logged in
INFO:__main__:✅ Dynamic supplier authentication successful. Proceeding with authenticated workflow.
INFO:utils.path_manager:Creating run output directory for supplier 'poundwholesale-co-uk' -> 'poundwholesale-co-uk/20250708_151909_run'
DEBUG:utils.path_manager:Successfully created run output directory: /mnt/c/Users/chris/Cloud-Drive_christianhaddad8@gmail.com/Cloud-Drive/Full/claude code/Amazon-FBA-Agent-System-v3/OUTPUTS/poundwholesale-co-uk/20250708_151909_run
INFO:__main__:📁 Run output directory: /mnt/c/Users/chris/Cloud-Drive_christianhaddad8@gmail.com/Cloud-Drive/Full/claude code/Amazon-FBA-Agent-System-v3/OUTPUTS/poundwholesale-co-uk/20250708_151909_run
INFO:__main__:🔄 Using standard workflow (LangGraph integration disabled)
INFO:__main__:🔄 Starting passive extraction workflow...
INFO:__main__:✅ Loaded system configuration from /mnt/c/Users/chris/Cloud-Drive_christianhaddad8@gmail.com/Cloud-Drive/Full/claude code/Amazon-FBA-Agent-System-v3/config/system_config.json
INFO:__main__:✅ OpenAI client initialized for AI features
ERROR:__main__:❌ Workflow execution failed: '<' not supported between instances of 'NoneType' and 'int'
Traceback (most recent call last):
  File "/mnt/c/Users/chris/Cloud-Drive_christianhaddad8@gmail.com/Cloud-Drive/Full/claude code/Amazon-FBA-Agent-System-v3/run_complete_fba_system.py", line 679, in _run_extraction_workflow
    workflow = PassiveExtractionWorkflow(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/mnt/c/Users/chris/Cloud-Drive_christianhaddad8@gmail.com/Cloud-Drive/Full/claude code/Amazon-FBA-Agent-System-v3/tools/passive_extraction_workflow_latest.py", line 866, in __init__
    if max_products_per_category < 20:
       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: '<' not supported between instances of 'NoneType' and 'int'
ERROR:__main__:❌ Extraction workflow failed
INFO:__main__:🔍 Verifying files generated despite extraction failure...
INFO:__main__:✅ Verified suppliers/poundwholesale-co-uk/config/login_config.json: 39 bytes, 2025-07-08T18:53:27.742696
INFO:__main__:✅ Verified suppliers/poundwholesale-co-uk/scripts/poundwholesale-co-uk_login.py: 20178 bytes, 2025-07-08T18:53:27.749204
ERROR:__main__:❌ Missing expected file: OUTPUTS/FBA_ANALYSIS/cached_products.json
ERROR:__main__:❌ Missing expected file: OUTPUTS/FBA_ANALYSIS/ai_category_cache.json
ERROR:__main__:❌ Missing expected file: OUTPUTS/FBA_ANALYSIS/linking_maps/linking_map.json
ERROR:__main__:❌ Output verification FAILED - 7 issues found
ERROR:__main__:  • suppliers/poundwholesale-co-uk/config/login_config.json: File is old (0:25:41.946177) - may not be from recent test
ERROR:__main__:  • suppliers/poundwholesale-co-uk/config/login_config.json: Missing vision_discovered field
ERROR:__main__:  • suppliers/poundwholesale-co-uk/config/login_config.json: Missing auto_discovered field
ERROR:__main__:  • suppliers/poundwholesale-co-uk/scripts/poundwholesale-co-uk_login.py: File is old (0:25:41.959005) - may not be from recent test
ERROR:__main__:  • OUTPUTS/FBA_ANALYSIS/cached_products.json: File does not exist
ERROR:__main__:  • OUTPUTS/FBA_ANALYSIS/ai_category_cache.json: File does not exist
ERROR:__main__:  • OUTPUTS/FBA_ANALYSIS/linking_maps/linking_map.json: File does not exist
INFO:utils.browser_manager:🧹 Starting browser cleanup...
INFO:utils.browser_manager:🗑️ Closed 1 cached pages
INFO:utils.browser_manager:🔌 Disconnected from Chrome
INFO:utils.browser_manager:🎭 Stopped Playwright
INFO:utils.browser_manager:✅ Browser cleanup completed
INFO:utils.browser_manager:🧹 Global browser cleanup completed
INFO:__main__:🧹 Browser cleanup completed
DEBUG:asyncio:Using selector: EpollSelector
INFO:utils.browser_manager:🧹 Starting browser cleanup...
INFO:utils.browser_manager:🗑️ Closed 0 cached pages
INFO:utils.browser_manager:✅ Browser cleanup completed
INFO:utils.browser_manager:🧹 Global browser cleanup completed
