INFO:__main__:🔍 Enhanced detailed logging enabled - output: /mnt/c/Users/chris/Desktop/Amazon-FBA-Agent-System-v32/logs/debug/run_complete_fba_system_20250709_011330.log
DEBUG:asyncio:Using selector: EpollSelector
INFO:__main__:🚀 Complete FBA System v3 initialized
INFO:__main__:🏭 Processing supplier: poundwholesale-co-uk
INFO:__main__:🔗 URL: https://www.poundwholesale.co.uk/
INFO:__main__:📧 Email: info@theblacksmithmarket.com
INFO:__main__:🖥️ Headed mode: False
INFO:__main__:📦 Max products: 21
INFO:__main__:🔄 Force regenerate: False
INFO:__main__:📦 Archiving expected output files for verification...
INFO:__main__:Archive mode set to: ''
WARNING:__main__:Unknown archive mode: ''. Skipping archive.
INFO:tools.supplier_guard:🛡️ Supplier Guard initialized
INFO:__main__:⚠️ Supplier poundwholesale-co-uk not ready: .supplier_ready file missing supplier_name field
INFO:__main__:✅ Existing supplier package found for poundwholesale-co-uk. Bypassing script generation.
INFO:__main__:🚀 Initializing centralized browser session...
INFO:utils.browser_manager:🔧 BrowserManager singleton initialized
INFO:utils.browser_manager:🔌 Connecting to Chrome on debug port 9222
INFO:utils.browser_manager:📄 Using existing context with 3 pages
INFO:utils.browser_manager:✅ Connected to Chrome successfully
INFO:utils.browser_manager:📄 Created new page #1 for https://www.poundwholesale.co.uk
INFO:utils.browser_manager:✅ Page ready for https://www.poundwholesale.co.uk/
INFO:__main__:🔐 Performing dynamic supplier authentication...
INFO:__main__:📦 Loading dynamic supplier login script: suppliers/poundwholesale-co-uk/scripts/poundwholesale-co-uk_login.py
INFO:poundwholesale-co-uk_login:🔐 Starting login to https://www.poundwholesale.co.uk/
INFO:poundwholesale-co-uk_login:❌ Not logged in
INFO:poundwholesale-co-uk_login:🔗 Clicking login trigger: header a:has-text('Sign in')
INFO:poundwholesale-co-uk_login:✅ Email filled
INFO:poundwholesale-co-uk_login:✅ Password filled
INFO:poundwholesale-co-uk_login:🚫 Dismissing modal overlay: .modals-overlay
INFO:poundwholesale-co-uk_login:🚫 Forcibly hid modal overlays with JavaScript
INFO:poundwholesale-co-uk_login:🎯 Enhanced submit button visibility
INFO:poundwholesale-co-uk_login:✅ Submit button clicked
INFO:utils.browser_manager:🧹 Starting browser cleanup...
DEBUG:asyncio:Using selector: EpollSelector
ERROR:asyncio:Future exception was never retrieved
future: <Future finished exception=Error('Element is not attached to the DOM\nCall log:\n  - attempting click action\n  -     2 × waiting for element to be visible, enabled and stable\n  -       - element is visible, enabled and stable\n  -       - scrolling into view if needed\n  -       - done scrolling\n  -       - <div class="or-another-selection">or</div> from <aside tabindex="0" role="dialog" data-role="modal" data-type="popup" aria-describedby="modal-content-14" class="modal-popup customer-popup _inner-scroll customer-popup-show _show">…</aside> subtree intercepts pointer events\n  -     - retrying click action\n  -     - waiting 20ms\n  -     2 × waiting for element to be visible, enabled and stable\n  -       - element is visible, enabled and stable\n  -       - scrolling into view if needed\n  -       - done scrolling\n  -       - <div class="or-another-selection">or</div> from <aside tabindex="0" role="dialog" data-role="modal" data-type="popup" aria-describedby="modal-content-14" class="modal-popup customer-popup _inner-scroll customer-popup-show _show">…</aside> subtree intercepts pointer events\n  -     - retrying click action\n  -       - waiting 100ms\n  -     19 × waiting for element to be visible, enabled and stable\n  -        - element is visible, enabled and stable\n  -        - scrolling into view if needed\n  -        - done scrolling\n  -        - <div class="or-another-selection">or</div> from <aside tabindex="0" role="dialog" data-role="modal" data-type="popup" aria-describedby="modal-content-14" class="modal-popup customer-popup _inner-scroll customer-popup-show _show">…</aside> subtree intercepts pointer events\n  -      - retrying click action\n  -        - waiting 500ms\n  -     3 × waiting for element to be visible, enabled and stable\n  -       - element is not visible\n  -     - retrying click action\n  -       - waiting 500ms\n  -     - waiting for" https://www.poundwholesale.co.uk/newsletter/subscriber/new/" navigation to finish...\n  -     - navigated to "https://www.poundwholesale.co.uk/"\n  -     - waiting for element to be visible, enabled and stable\n')>
playwright._impl._errors.Error: Element is not attached to the DOM
Call log:
  - attempting click action
  -     2 × waiting for element to be visible, enabled and stable
  -       - element is visible, enabled and stable
  -       - scrolling into view if needed
  -       - done scrolling
  -       - <div class="or-another-selection">or</div> from <aside tabindex="0" role="dialog" data-role="modal" data-type="popup" aria-describedby="modal-content-14" class="modal-popup customer-popup _inner-scroll customer-popup-show _show">…</aside> subtree intercepts pointer events
  -     - retrying click action
  -     - waiting 20ms
  -     2 × waiting for element to be visible, enabled and stable
  -       - element is visible, enabled and stable
  -       - scrolling into view if needed
  -       - done scrolling
  -       - <div class="or-another-selection">or</div> from <aside tabindex="0" role="dialog" data-role="modal" data-type="popup" aria-describedby="modal-content-14" class="modal-popup customer-popup _inner-scroll customer-popup-show _show">…</aside> subtree intercepts pointer events
  -     - retrying click action
  -       - waiting 100ms
  -     19 × waiting for element to be visible, enabled and stable
  -        - element is visible, enabled and stable
  -        - scrolling into view if needed
  -        - done scrolling
  -        - <div class="or-another-selection">or</div> from <aside tabindex="0" role="dialog" data-role="modal" data-type="popup" aria-describedby="modal-content-14" class="modal-popup customer-popup _inner-scroll customer-popup-show _show">…</aside> subtree intercepts pointer events
  -      - retrying click action
  -        - waiting 500ms
  -     3 × waiting for element to be visible, enabled and stable
  -       - element is not visible
  -     - retrying click action
  -       - waiting 500ms
  -     - waiting for" https://www.poundwholesale.co.uk/newsletter/subscriber/new/" navigation to finish...
  -     - navigated to "https://www.poundwholesale.co.uk/"
  -     - waiting for element to be visible, enabled and stable

ERROR:asyncio:Task was destroyed but it is pending!
task: <Task cancelling name='Task-1' coro=<main() running at /mnt/c/Users/chris/Desktop/Amazon-FBA-Agent-System-v32/run_complete_fba_system.py:937> wait_for=<Future pending cb=[Task.task_wakeup()]> cb=[ProtocolCallback.__init__.<locals>.cb() at /usr/local/lib/python3.12/dist-packages/playwright/_impl/_connection.py:198, <5 more>, ProtocolCallback.__init__.<locals>.cb() at /usr/local/lib/python3.12/dist-packages/playwright/_impl/_connection.py:198]>
