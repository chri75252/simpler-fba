2025-07-19 19:20:52,648 - utils.logger - INFO - üîß Logging initialised ‚Äì log file: /mnt/c/Users/chris/Desktop/Amazon-FBA-Agent-System-v32/logs/debug/run_custom_poundwholesale_20250719_192052.log
2025-07-19 19:20:52,649 - __main__ - INFO - üìã Debug log file: /mnt/c/Users/chris/Desktop/Amazon-FBA-Agent-System-v32/logs/debug/run_custom_poundwholesale_20250719_192052.log
2025-07-19 19:20:52,650 - __main__ - DEBUG - Debug logging initialized - full system execution details will be captured
2025-07-19 19:20:52,661 - utils.browser_manager - INFO - üîß BrowserManager singleton initialized
2025-07-19 19:20:53,046 - utils.browser_manager - INFO - üîå Connecting to persistent Chrome on debug port 9222
2025-07-19 19:20:53,670 - utils.browser_manager - INFO - üìÑ Using existing context with 3 pages
2025-07-19 19:20:53,671 - utils.browser_manager - INFO - ‚úÖ Connected to persistent Chrome successfully
2025-07-19 19:20:53,672 - utils.browser_manager - INFO - ‚ôªÔ∏è Reusing existing page in context.
2025-07-19 19:20:53,672 - __main__ - INFO - üîê Initializing authentication service for logout detection...
2025-07-19 19:20:53,678 - __main__ - INFO - ‚úÖ Using hardcoded credentials for poundwholesale.co.uk
2025-07-19 19:20:53,678 - __main__ - INFO - üåê Connecting to existing Chrome debug port 9222 for authentication...
2025-07-19 19:20:58,997 - tools.supplier_authentication_service - INFO - ‚úÖ Authentication indicator found: 'logout'
2025-07-19 19:20:59,078 - tools.supplier_authentication_service - INFO - ‚úÖ Logout link found - user is authenticated
2025-07-19 19:20:59,079 - tools.supplier_authentication_service - INFO - ‚úÖ Session already authenticated - skipping login
2025-07-19 19:20:59,088 - amazon_playwright_extractor - INFO - AI features disabled in amazon_playwright_extractor - using only traditional selectors.
2025-07-19 19:20:59,092 - amazon_playwright_extractor - INFO - Output directory set to: /mnt/c/Users/chris/Desktop/Amazon-FBA-Agent-System-v32/OUTPUTS/CACHE/amazon_data
2025-07-19 19:20:59,092 - amazon_playwright_extractor - WARNING - ‚ö†Ô∏è BrowserManager not available, using legacy browser connection
2025-07-19 19:20:59,099 - configurable_supplier_scraper - INFO - ‚úÖ Loaded system configuration from /mnt/c/Users/chris/Desktop/Amazon-FBA-Agent-System-v32/config/system_config.json
2025-07-19 19:20:59,101 - configurable_supplier_scraper - INFO - üîß ConfigurableSupplierScraper will use centralized BrowserManager
2025-07-19 19:20:59,102 - configurable_supplier_scraper - DEBUG - AI model from config: gpt-4.1-mini-2025-04-14
2025-07-19 19:20:59,103 - configurable_supplier_scraper - DEBUG - Extraction targets from config: {}
2025-07-19 19:20:59,104 - configurable_supplier_scraper - DEBUG - Discovery assistance from config: {}
2025-07-19 19:20:59,104 - configurable_supplier_scraper - INFO - [CONFIG] Initialized with AI model: gpt-4.1-mini-2025-04-14
2025-07-19 19:20:59,105 - configurable_supplier_scraper - INFO - [TARGET] Extraction targets loaded: []
2025-07-19 19:20:59,105 - configurable_supplier_scraper - INFO - [ASSIST] Discovery assistance enabled: False
2025-07-19 19:20:59,106 - PassiveExtractionWorkflow - DEBUG - üîç DEBUG: linking_map initialized as type: <class 'list'>
2025-07-19 19:20:59,107 - PassiveExtractionWorkflow - INFO - ‚úÖ Output directory set to: /mnt/c/Users/chris/Desktop/Amazon-FBA-Agent-System-v32/OUTPUTS
2025-07-19 19:20:59,107 - PassiveExtractionWorkflow - INFO - ‚úÖ Initialization validation passed - all critical attributes verified
2025-07-19 19:20:59,108 - PassiveExtractionWorkflow - INFO - --- Starting Passive Extraction Workflow for: poundwholesale.co.uk ---
2025-07-19 19:20:59,108 - PassiveExtractionWorkflow - INFO - Session ID: poundwholesale.co.uk_20250719_192059
2025-07-19 19:20:59,109 - PassiveExtractionWorkflow - INFO - üìä CONFIGURATION VALUES:
2025-07-19 19:20:59,109 - PassiveExtractionWorkflow - INFO -    max_products_to_process: 15
2025-07-19 19:20:59,110 - PassiveExtractionWorkflow - INFO -    max_products_per_category: 8
2025-07-19 19:20:59,111 - PassiveExtractionWorkflow - INFO -    max_analyzed_products: 10
2025-07-19 19:20:59,111 - PassiveExtractionWorkflow - INFO -    max_products_per_cycle: 100
2025-07-19 19:20:59,112 - PassiveExtractionWorkflow - INFO -    supplier_extraction_batch_size: 1
2025-07-19 19:20:59,112 - PassiveExtractionWorkflow - INFO -    max_categories_per_request: 5
2025-07-19 19:20:59,119 - utils.enhanced_state_manager - INFO - Loaded state for poundwholesale.co.uk - resuming from index 8
2025-07-19 19:20:59,120 - PassiveExtractionWorkflow - INFO - üìã Loaded existing processing state for poundwholesale.co.uk
2025-07-19 19:20:59,120 - PassiveExtractionWorkflow - INFO - üîÑ Resuming from index 8
2025-07-19 19:20:59,128 - PassiveExtractionWorkflow - INFO - ‚úÖ No existing linking map found at /mnt/c/Users/chris/Desktop/Amazon-FBA-Agent-System-v32/OUTPUTS/FBA_ANALYSIS/linking_maps/poundwholesale.co.uk/linking_map.json - Creating new map
2025-07-19 19:20:59,129 - PassiveExtractionWorkflow - DEBUG - üîç DEBUG: linking_map loaded as type: <class 'list'>, length: 0
2025-07-19 19:20:59,144 - PassiveExtractionWorkflow - INFO - ‚úÖ Processing state initialized and started
2025-07-19 19:20:59,146 - PassiveExtractionWorkflow - INFO - ‚úÖ No existing linking map found at /mnt/c/Users/chris/Desktop/Amazon-FBA-Agent-System-v32/OUTPUTS/FBA_ANALYSIS/linking_maps/poundwholesale.co.uk/linking_map.json - Creating new map
2025-07-19 19:20:59,147 - PassiveExtractionWorkflow - INFO - CUSTOM MODE: Using predefined category list.
2025-07-19 19:20:59,147 - tools.passive_extraction_workflow_latest - INFO - Attempting to load predefined categories for poundwholesale.co.uk
2025-07-19 19:20:59,157 - tools.passive_extraction_workflow_latest - INFO - ‚úÖ Successfully loaded 276 predefined category URLs from /mnt/c/Users/chris/Desktop/Amazon-FBA-Agent-System-v32/config/poundwholesale_categories.json
2025-07-19 19:20:59,160 - PassiveExtractionWorkflow - INFO - üîÑ HYBRID PROCESSING MODE: Enabled
2025-07-19 19:20:59,160 - PassiveExtractionWorkflow - INFO - üîÑ HYBRID PROCESSING: Mode configuration loaded
2025-07-19 19:20:59,161 - PassiveExtractionWorkflow - INFO -    switch_to_amazon_after_categories: 1
2025-07-19 19:20:59,163 - PassiveExtractionWorkflow - INFO - üîç DEBUG: About to call _should_continue_supplier_scraping()
2025-07-19 19:20:59,173 - PassiveExtractionWorkflow - INFO - ‚úÖ SUPPLIER SCRAPING COMPLETE: index 8 >= total 8
2025-07-19 19:20:59,174 - PassiveExtractionWorkflow - INFO - üîç DEBUG: _should_continue_supplier_scraping() returned: False
2025-07-19 19:20:59,174 - PassiveExtractionWorkflow - INFO - ‚úÖ SUPPLIER SCRAPING COMPLETE: Proceeding to Amazon extraction phase
2025-07-19 19:20:59,182 - PassiveExtractionWorkflow - INFO - ‚úÖ Loaded 8 cached supplier products
2025-07-19 19:20:59,183 - PassiveExtractionWorkflow - INFO - üîÑ Processing 8 existing products with Amazon extraction
2025-07-19 19:20:59,184 - PassiveExtractionWorkflow - INFO - üîç Processing 8 products with main workflow logic
2025-07-19 19:20:59,184 - PassiveExtractionWorkflow - INFO - --- Processing supplier product 1/8: '151 Mini Roller & Tray Set 5pc' ---
2025-07-19 19:20:59,185 - PassiveExtractionWorkflow - INFO - Product already processed: https://www.poundwholesale.co.uk/151-mini-roller-tray-set-5pc. Skipping.
2025-07-19 19:20:59,185 - PassiveExtractionWorkflow - INFO - --- Processing supplier product 2/8: 'Dekton Emulsion External Paint Roller & Tray 9" Set' ---
2025-07-19 19:20:59,186 - PassiveExtractionWorkflow - INFO - Attempting Amazon search using EAN: 5055441449920
2025-07-19 19:20:59,231 - tools.passive_extraction_workflow_latest - INFO - Connecting to Chrome browser on debug port 9222 (FixedAmazonExtractor)
2025-07-19 19:21:00,128 - tools.passive_extraction_workflow_latest - INFO - Successfully connected to Chrome on port 9222 (FixedAmazonExtractor)
2025-07-19 19:21:00,129 - tools.passive_extraction_workflow_latest - INFO - Found 3 existing pages (FixedAmazonExtractor)
2025-07-19 19:21:00,129 - tools.passive_extraction_workflow_latest - INFO - Using existing page: https://www.poundwholesale.co.uk/ (FixedAmazonExtractor)
2025-07-19 19:21:00,195 - tools.passive_extraction_workflow_latest - INFO - Searching Amazon by EAN: 5055441449920 for supplier product: 'Dekton Emulsion External Paint Roller & Tray 9" Set' (FixedAmazonExtractor)
2025-07-19 19:21:00,195 - tools.passive_extraction_workflow_latest - INFO - No page provided to search_by_ean, getting one from BrowserManager.
2025-07-19 19:21:00,195 - utils.browser_manager - INFO - ‚ôªÔ∏è Reusing existing page in context.
2025-07-19 19:21:00,196 - utils.browser_manager - INFO - üìÑ Navigating to https://www.amazon.co.uk
2025-07-19 19:21:00,558 - utils.browser_manager - INFO - ‚úÖ Page ready for https://www.amazon.co.uk
2025-07-19 19:21:00,559 - tools.passive_extraction_workflow_latest - INFO - Navigating to Amazon UK to search for EAN: 5055441449920
2025-07-19 19:21:03,486 - tools.passive_extraction_workflow_latest - INFO - Waiting for search results page to load for EAN 5055441449920...
2025-07-19 19:21:03,799 - tools.passive_extraction_workflow_latest - INFO - Found search results container with selector: div.s-search-results
2025-07-19 19:21:05,831 - tools.passive_extraction_workflow_latest - INFO - Found 1 search result elements using selector: div[data-asin]:not([data-asin='']):not(.AdHolder):not([class*='s-widget-sponsored-product'])
2025-07-19 19:21:05,832 - tools.passive_extraction_workflow_latest - INFO - Processing 1 search result elements for EAN 5055441449920
2025-07-19 19:21:05,861 - tools.passive_extraction_workflow_latest - DEBUG - Processing element 1: ASIN B0DJ94TXCX
2025-07-19 19:21:05,891 - tools.passive_extraction_workflow_latest - DEBUG - ASIN B0DJ94TXCX HTML structure sample: <div role="listitem" data-asin="B0DJ94TXCX" data-index="2" data-uuid="3d5670af-e863-437c-92d9-e049f156c93e" id="3d5670af-e863-437c-92d9-e049f156c93e" data-component-type="s-search-result" class="sg-col-4-of-4 sg-col-4-of-24 sg-col-4-of-12 s-result-item s-asin sg-col-4-of-16 sg-col s-widget-spacing-small sg-col-4-of-8 sg-col-4-of-20" data-component-id="10" data-cel-widget="search_result_1"><div class="sg-col-inner"><div cel_widget_id="MAIN-SEARCH_RESULTS-2" class="s-widget-container s-spacing-small s-widget-container-height-small celwidget slot=MAIN template=SEARCH_RESULTS widgetId=search-resul...
2025-07-19 19:21:05,892 - tools.passive_extraction_workflow_latest - DEBUG - Error checking sponsored badge for ASIN B0DJ94TXCX: 'ElementHandle' object has no attribute 'locator'
2025-07-19 19:21:05,892 - tools.passive_extraction_workflow_latest - DEBUG - Error checking aria-label for ASIN B0DJ94TXCX: 'ElementHandle' object has no attribute 'locator'
2025-07-19 19:21:05,949 - tools.passive_extraction_workflow_latest - DEBUG - Error checking text for ad indicators for ASIN B0DJ94TXCX: 'ElementHandle' object has no attribute 'locator'
2025-07-19 19:21:06,182 - tools.passive_extraction_workflow_latest - DEBUG - ASIN B0DJ94TXCX title extracted using selector 'h2': Dekton 9" Roller And Tray Emulsion Masonry Ideal F...
2025-07-19 19:21:06,183 - tools.passive_extraction_workflow_latest - INFO - Found organic result: ASIN B0DJ94TXCX - Dekton 9" Roller And Tray Emulsion Masonry Ideal For Externa...
2025-07-19 19:21:06,184 - tools.passive_extraction_workflow_latest - INFO - Single organic result found for EAN 5055441449920: ASIN B0DJ94TXCX
2025-07-19 19:21:06,185 - tools.passive_extraction_workflow_latest - INFO - EAN search selected ASIN B0DJ94TXCX for 5055441449920
2025-07-19 19:21:06,185 - tools.passive_extraction_workflow_latest - INFO - Single ASIN B0DJ94TXCX found for EAN 5055441449920.
2025-07-19 19:21:06,186 - tools.passive_extraction_workflow_latest - INFO - Proceeding with ASIN: B0DJ94TXCX for EAN: 5055441449920
2025-07-19 19:21:06,187 - amazon_playwright_extractor - WARNING - No page object provided to extract_data for ASIN B0DJ94TXCX. Getting a new one from BrowserManager.
2025-07-19 19:21:06,187 - amazon_playwright_extractor - INFO - Reusing existing page: https://www.amazon.co.uk/s?k=5055441449920&ref=nb_sb_noss
2025-07-19 19:21:08,934 - amazon_playwright_extractor - INFO - Checking for cookie consent pop-up...
2025-07-19 19:21:09,394 - amazon_playwright_extractor - INFO - Finished checking for cookie consent pop-ups. If one was present and not handled, it might interfere.
2025-07-19 19:21:10,396 - amazon_playwright_extractor - INFO - Checking for CAPTCHA...
2025-07-19 19:21:13,418 - amazon_playwright_extractor - INFO - No CAPTCHA page detected by form selector.
2025-07-19 19:21:13,419 - amazon_playwright_extractor - INFO - Checking for cookie consent pop-up...
2025-07-19 19:21:13,704 - amazon_playwright_extractor - INFO - Finished checking for cookie consent pop-ups. If one was present and not handled, it might interfere.
2025-07-19 19:21:13,705 - amazon_playwright_extractor - INFO - Page should be ready. Waiting 5s for stabilization...
2025-07-19 19:21:18,708 - amazon_playwright_extractor - INFO - Waiting an additional 7s for extensions (Keepa, SellerAmp)...
2025-07-19 19:21:25,717 - amazon_playwright_extractor - INFO - Extracting all product data for ASIN: B0DJ94TXCX
2025-07-19 19:21:25,717 - amazon_playwright_extractor - INFO - Extracting basic product information (Title, Price, Images, Amazon Details)...
2025-07-19 19:21:25,783 - amazon_playwright_extractor - INFO - Title found: 'Dekton 9" Roller And Tray Emulsion Masonry Ideal For External Use-Ideal for rough surfaces| Medium pile woven fabric sleeves| Ideal for external use| Durable Finish| Seamless Repairs| Roller and Tray' via #productTitle
2025-07-19 19:21:25,784 - amazon_playwright_extractor - INFO - Extracting price details...
2025-07-19 19:21:25,863 - amazon_playwright_extractor - INFO - Current price: 10.86 via #corePrice_feature_div .a-offscreen
2025-07-19 19:21:26,254 - amazon_playwright_extractor - INFO - Extracting image URLs...
